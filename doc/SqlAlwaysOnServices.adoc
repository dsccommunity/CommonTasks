// CommonTasks YAML Reference: SqlAlwaysOnServices
// ===============================================

:YmlCategory: SqlAlwaysOnServices

:abstract:    {YmlCategory} enables or disables SQL Server Always On HADR (High Availability and Disaster Recovery) services on an instance.

[#dscyml_sqlalwaysonservices]
= DSC Resource '{YmlCategory}'

[[dscyml_sqlalwaysonservices_abstract, {abstract}]]
{abstract}

.When to use '{YmlCategory}'
****
Use this resource when you need to enable Always On as a feature on a SQL Server instance. This is a prerequisite step before creating Availability Groups with SqlAGs. It requires a Windows Failover Cluster (configured via FailoverCluster) and a SQL Server restart.
****


// reference links as variables for using more than once
:ref_sqlserverdsc_wiki:                 https://github.com/dsccommunity/SqlServerDsc/wiki[SqlServerDsc Wiki]
:ref_sqlserverdsc_sqlalwaysonservice:   https://github.com/dsccommunity/SqlServerDsc/wiki/SqlAlwaysOnService[SqlAlwaysOnService]


[cols="1,3a" options="autowidth" caption=]
|===
| Source         | https://github.com/dsccommunity/CommonTasks/tree/main/source/DSCResources/SqlAlwaysOnServices
| DSC Resource   | https://github.com/dsccommunity/SqlServerDsc[SqlServerDsc]
| Documentation  | - {ref_sqlserverdsc_wiki}
                   - {ref_sqlserverdsc_sqlalwaysonservice}

|===


.Requirements

- Target machine must be running Windows Server 2012 or later.
- Target machine must be running SQL Server Database Engine 2012 or later.
- Target machine must be a member of a Windows Server Failover Cluster.


.Attributes of category '{YmlCategory}'
[cols="1,1,1,2a,1a" options="header"]
|===
| Parameter
| Attribute
| DataType
| Description
| Allowed Values

| SqlInstanceName
|
| String
| The name of the SQL Server instance to be configured.
|

| Ensure
|
| String
| Determines whether the Always On service should be added (`Present`) or removed (`Absent`).
| - *Present* (default)
  - Absent

| ServerName
|
| String
| The host name of the SQL Server to be configured.

Default value is the current computer name.
|

| RestartTimeout
|
| Int
| The length of time, in seconds, to wait for the service to restart.
| Default: `120`

|===


.Example
[source, yaml]
----
SqlAlwaysOnServices:
  ServerName: SQL1
  SqlInstanceName: MSSQLSERVER
  RestartTimeout: 120
----
