// CommonTasks YAML Reference: WaitForAnyNode
// ===========================================

:YmlCategory: WaitForAnyNode

:abstract:    {YmlCategory} waits for any one of the specified nodes to reach a desired DSC configuration state before proceeding.

[#dscyml_waitforanynode]
= DSC Resource '{YmlCategory}'

[[dscyml_waitforanynode_abstract, {abstract}]]
{abstract}

.When to use '{YmlCategory}'
****
Use this resource when your DSC configuration needs at least one of several nodes to complete its configuration before proceeding. For example, wait for any one domain controller to be available before joining a machine to the domain. This resource blocks until at least one specified node reports the desired state.
****

This resource succeeds if the resource specified by the ResourceName property is in the desired state on any target nodes defined in the NodeName property.


[cols="1,3a" options="autowidth" caption=]
|===
| Source         | https://github.com/dsccommunity/CommonTasks/tree/main/source/DSCResources/WaitForAnyNode
| DSC Resource   | https://docs.microsoft.com/en-us/powershell/module/psdesiredstateconfiguration[PSDesiredStateConfiguration]
| Documentation  | https://docs.microsoft.com/en-us/powershell/scripting/dsc/reference/resources/windows/waitforanyresource[WaitForAny]
|===


.Attributes of category '{YmlCategory}'
[cols="1,1,1,2a,1a" options="header"]
|===
| Parameter
| Attribute
| DataType
| Description
| Allowed Values

| [[dscyml_waitforanynode_items, {YmlCategory}/Items]]<<dscyml_waitforanynode_items_details, Items>>
|
| Hashtable[]
| List of cross-node dependency configurations specifying nodes and resources to wait for
|

|===


[[dscyml_waitforanynode_items_details]]
.Attributes of category '<<dscyml_waitforanynode_items>>'
[cols="1,1,1,2a,1a" options="header"]
|===
| Parameter
| Attribute
| DataType
| Description
| Allowed Values

| NodeName
| Required
| String[]
| The name of the target nodes the resource must be in the desired state.
|

| ResourceName
| Key
| String
| The name of the resource that must be in the desired state.
|

| RetryCount
|
| UInt32
| The maximum number of times to retry.
|

| RetryIntervalSec
|
| UInt64
| The number of seconds before retrying. Minimum is 1.
|

| ThrottleLimit
|
| UInt32
| Number of machines to connect simultaneously. Default is New-CimSession default.
|

|===


[NOTE]
====
{YmlCategory} resource uses Windows Remote Management to check the state of other Nodes.
For more information about port and security requirements for WinRM, see https://learn.microsoft.com/en-us/powershell/scripting/learn/remoting/winrmsecurity[PowerShell Remoting Security Considerations].
====


.Example
[source, yaml]
----
WaitForAnyNode:
  Items:
  - ResourceName: '[xADDomain]NewDomain'
    NodeName: MyDC
    RetryIntervalSec: 15
    RetryCount: 30
  - ResourceName: '[Service]StartSQLService'
    NodeName:
    - SQLServer1
    - SQLServer2
    RetryIntervalSec: 60
    RetryCount: 60
----

.See also
****
* xref:waitforallnodes.adoc[WaitForAllNodes]
* xref:waitforsomenodes.adoc[WaitForSomeNodes]
****
